name: Simple Pipeline Demo with Tests

on:
  push:
    branches: [main]

jobs:
  test-and-deploy:
    runs-on: ubuntu-latest
    
    steps:
      - name: Step 1 - Get Code
        uses: actions/checkout@v2
      
      - name: Step 2 - Setup Python
        uses: actions/setup-python@v2
        with:
          python-version: '3.11'
      
      - name: Step 3 - Show What We're Testing
        run: |
          echo "=========================================="
          echo "Running tests for calculator.py"
          echo "=========================================="
          cat calculator.py
      
      - name: Step 4 - Run Tests
        run: python test_calculator.py
      
      - name: Step 5 - If Tests Pass, Deploy
        run: |
          echo "=========================================="
          echo "Tests passed! Deploying application..."
          echo "=========================================="
      
      - name: Step 6 - Deployment Complete
        run: echo "Application deployed successfully!"
